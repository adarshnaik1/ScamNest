# =============================================================================
# ScamNest Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit the .env file to version control
# =============================================================================

# -----------------------------------------------------------------------------
# API Security Configuration
# -----------------------------------------------------------------------------
# Generate a strong random API key for production
# Example: python -c "import secrets; print(secrets.token_urlsafe(32))"
API_KEY=your-secure-api-key-change-this-in-production

# -----------------------------------------------------------------------------
# OpenAI Configuration
# -----------------------------------------------------------------------------
# Get your API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_MODEL=gpt-4  # or gpt-3.5-turbo for cost optimization
OPENAI_MAX_TOKENS=500
OPENAI_TEMPERATURE=0.7

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
HOST=0.0.0.0
PORT=8000
ENV=development  # Options: development, staging, production
DEBUG=true  # Set to false in production
LOG_LEVEL=INFO  # Options: DEBUG, INFO, WARNING, ERROR, CRITICAL

# -----------------------------------------------------------------------------
# Callback & External Services
# -----------------------------------------------------------------------------
# GUVI evaluation endpoint for reporting results
CALLBACK_URL=https://hackathon.guvi.in/api/updateHoneyPotFinalResult
CALLBACK_TIMEOUT=5  # seconds
CALLBACK_MAX_RETRIES=3

# -----------------------------------------------------------------------------
# Scam Detection Configuration
# -----------------------------------------------------------------------------
# Threshold for scam confidence (0.0 - 1.0)
SCAM_DETECTION_THRESHOLD=0.8
# Minimum messages before triggering callback
MIN_MESSAGES_FOR_CALLBACK=3
# Maximum conversation turns before auto-termination
MAX_CONVERSATION_TURNS=20

# -----------------------------------------------------------------------------
# LLM Detection Settings (Optional - Advanced Features)
# -----------------------------------------------------------------------------
# Enable LLM validation for SUSPICIOUS cases (adds 1-3s latency)
USE_LLM_VALIDATION=false

# Enable LLM-generated explanations for agent notes
USE_LLM_EXPLANATION=false

# Enable LLM pattern analysis for multi-turn conversations
USE_LLM_PATTERN_ANALYSIS=false

# Model to use for LLM detection (gpt-4o-mini recommended for cost/speed)
LLM_DETECTION_MODEL=gpt-4o-mini

# Timeout for LLM API calls (seconds)
LLM_DETECTION_TIMEOUT=5.0

# Minimum messages before running pattern analysis
LLM_MIN_MESSAGES_FOR_PATTERN_ANALYSIS=3

# -----------------------------------------------------------------------------
# Session Management
# -----------------------------------------------------------------------------
# Session timeout in minutes
SESSION_TIMEOUT_MINUTES=30
# Enable session cleanup job
ENABLE_SESSION_CLEANUP=true
SESSION_CLEANUP_INTERVAL_MINUTES=60

# -----------------------------------------------------------------------------
# Rate Limiting (Optional - Production Recommended)
# -----------------------------------------------------------------------------
ENABLE_RATE_LIMITING=false
RATE_LIMIT_PER_MINUTE=30
RATE_LIMIT_PER_DAY=10000

# -----------------------------------------------------------------------------
# Machine Learning Configuration
# -----------------------------------------------------------------------------
ML_MODEL_PATH=app/ai_model/models/spam_classifier.pkl
ML_VECTORIZER_PATH=app/ai_model/models/tfidf_vectorizer.pkl
ML_PREDICTION_THRESHOLD=0.5

# -----------------------------------------------------------------------------
# Monitoring & Analytics (Optional)
# -----------------------------------------------------------------------------
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
# ENABLE_METRICS=false
# PROMETHEUS_PORT=9090

# -----------------------------------------------------------------------------
# CORS Configuration (if needed for frontend)
# -----------------------------------------------------------------------------
# CORS_ORIGINS=http://localhost:3000,https://your-domain.com
# ENABLE_CORS=false

# -----------------------------------------------------------------------------
# Database Configuration (for future use)
# -----------------------------------------------------------------------------
# DATABASE_URL=postgresql://user:password@localhost:5432/scamnest
# REDIS_URL=redis://localhost:6379/0

# =============================================================================
# Security Notes
# =============================================================================
# 1. NEVER commit .env to version control
# 2. Use strong, unique values for all keys in production
# 3. Rotate API keys regularly
# 4. Enable rate limiting in production
# 5. Set DEBUG=false in production
# 6. Use environment-specific .env files (.env.production, .env.staging)
# =============================================================================
